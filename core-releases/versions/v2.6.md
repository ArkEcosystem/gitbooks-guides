# v2.6

ARK `v2.6` is a minor update but **not backward compatible with `v2.5.X`**. This update introduces implementations of the following ARK Improvement Proposals: 

* [AIP-11 Upgrade of Transaction Protocol](https://github.com/ArkEcosystem/AIPs/blob/master/AIPS/aip-11.md) 
* [AIP-18 Multisignature protocol](https://github.com/ArkEcosystem/AIPs/blob/master/AIPS/aip-18.md)
* [AIP-29  Generic Transaction Interface](https://github.com/ArkEcosystem/AIPs/blob/master/AIPS/aip-29.md)
* [AIP-102 Magistrate Transaction Types](https://github.com/ArkEcosystem/AIPs/blob/master/AIPS/aip-102.md)
* [AIP-103 Hash Timelock Contracts \(will be only available on \#devnet, as still EXPERIMENTAL\)](https://github.com/ArkEcosystem/AIPs/blob/master/AIPS/aip-103.md)

**Release information:**

* **Upgrade time**: low - upgrading to `v2.6` only requires minimal configuration changes.
* **Complexity**: **high** - AIP11 and AIP18 were implemented which bring various cryptography changes after a milestone is reached.
* **Risk**: high - `v2.6` is not backward compatible with `v2.5` and as it includes cryptography and P2P changes that will result in communication with nodes below 2.6.0 to fail.

**Read more general info in the official release date announcement below:**

{% embed url="https://blog.ark.io/ark-core-v2-6-official-release-date-announcement-d275166713a9" %}

## Migrating from v2.5 to v2.6 <a id="migrating-from-v2-5-to-v2-6"></a>

Upgrading from `v2.5` to `v2.6` is fairly straightforward if you follow the instructions. Even though we try to ensure backward compatibility \(BC\) as much as possible, sometimes it is not possible or very complicated to avoid it and still create a good solution to a problem.

{% hint style="danger" %}
**WARNING: Upgrading a complex software project always comes at the risk of breaking something, so make sure you have a backup.**
{% endhint %}

### Notes <a id="notes"></a>

After upgrading you should check whether your application still works as expected and no plugins are broken. See the following notes on which changes to consider when upgrading from one version to another.

## Upgrade Steps

{% hint style="danger" %}
**WARNING: Do not run any of the mentioned commands with `sudo` unless explicitly stated.**
{% endhint %}

### Prerequisites

Check what node version you have currently installed by running `node -v` . If this shows a version below 12, you will have to update this before proceeding with the installation. To do this, run the following commands:

```bash
sudo sed -i s/node_10/node_12/ /etc/apt/sources.list.d/nodesource.list
sudo sed -i s/node_11/node_12/ /etc/apt/sources.list.d/nodesource.list
sudo apt-get update && sudo apt-get upgrade

yarn global upgrade
```

When this is finished, you should see version 12 installed when you run `node -v` again!

### Step 1. Add `core-magistrate-transactions` Package:

1. Open `~/.config/ark-core/mainnet/plugins.js`
2. Locate the `@arkecosystem/core-database-postgres` entry.
3. Add this package addition line **before it** \(see below\):

   ```text
   "@arkecosystem/core-magistrate-transactions": {}, // Add this line before it
   ```

4. Save the changes. Your configuration file should look like this:

   ```text
   module.exports = {
       "@arkecosystem/core-event-emitter": {},
       "@arkecosystem/core-logger-pino": {},
       "@arkecosystem/core-state": {},
       "@arkecosystem/core-magistrate-transactions": {}, //this line was added
       "@arkecosystem/core-database-postgres": {},
       ...
       ...
       ...
   }
   ```

###  **Step 2. Updating ARK Core from v2.5.x to v2.6**

1. To update to v2.6 run the following command \(wait for it to complete\):

```bash
ark update
```

#### For more information about using the ARK CLI interface go[ here.](../../devops-guides/usinge-core-command-line-interface.md) <a id="step-1-add-core-magistrate-transactions-package"></a>

2. Restart node process\(es\) after update is complete \(you will be asked by update command if you wish to restart them\) or alternatively run:

```bash
pm2 restart all
```

{% hint style="info" %}
After restarting, your node will first execute migrations to get the database ready for v2.6. Please be aware that this can take upward of 30 minutes to complete depending on your server specs.
{% endhint %}

### Reporting Problems <a id="reporting-problems"></a>

If you happen to experience any issues please [open an issue](https://github.com/ARKEcosystem/core/issues/new?template=Bug_report.md) with a detailed description of the problem, steps to reproduce it and info about your environment.

